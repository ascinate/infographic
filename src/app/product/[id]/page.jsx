'use client';
import { useSearchParams, useParams } from 'next/navigation';
import { svgList } from '@/app/demodata';
import { useState, useEffect, useRef } from 'react';
import html2canvas from 'html2canvas';
import { svgStyleList } from '../../demoAPI/styleSvgAPI';



export default function ProductPage() {
  const params = useParams(); // âœ… CORRECT
  const searchParams = useSearchParams();
  const id = params.id;

  const initialColor = searchParams.get('color') || '#576FF8';
  const [backgroundType, setBackgroundType] = useState('hidden');
  const simpleBackground = (
    <svg width="3750" height="1875" viewBox="0 0 3750 1875">
      <rect x="-375" y="-187.5" width="4500" height="2250" fill="rgb(100%, 100%, 100%)" fill-opacity="1" />
      <path fill-rule="nonzero" fill="rgb(0%, 0%, 0%)" fill-opacity="1" d="M 1807.289062 131.171875 L 1807.289062 315.640625 L 1786.648438 315.640625 L 1786.648438 457.710938 L 1759.128906 500.449219 L 1759.128906 841.71875 L 1738.058594 841.71875 L 1738.058594 1156.015625 L 1718.488281 1156.015625 L 1718.488281 1405.574219 L 1703.449219 1405.574219 L 1703.449219 1482.769531 L 1549.960938 1482.769531 L 1549.960938 1527.28125 L 1509.328125 1527.28125 L 1509.328125 1486.8125 L 1354.328125 1486.8125 L 1354.328125 1507.050781 L 1304.671875 1507.050781 L 1304.671875 1431.515625 L 1157.210938 1431.515625 L 1157.210938 1492.210938 L 1137.640625 1492.210938 L 1137.640625 1423.417969 L 1042.839844 1423.417969 L 1042.839844 1257.503906 L 983.691406 1257.503906 L 983.691406 1452.917969 L 966.085938 1457.140625 L 966.085938 1695.589844 L 926.964844 1695.589844 L 926.964844 1672.664062 L 883.332031 1672.664062 L 883.332031 1471.667969 L 830.652344 1471.667969 L 830.652344 1505.394531 L 815.609375 1505.394531 L 815.609375 1699.632812 L 788.519531 1699.632812 L 788.519531 1491.898438 L 767.453125 1491.898438 L 767.453125 1444.6875 L 698.230469 1444.6875 L 698.230469 1259.890625 L 564.308594 1259.890625 L 564.308594 1443.34375 L 539.414062 1443.34375 L 539.414062 1391.015625 L 481.542969 1361.054688 L 436.398438 1361.054688 L 436.398438 1402.875 L 404.800781 1402.875 L 404.800781 1335.425781 L 305.476562 1335.425781 L 305.476562 1351.609375 L 278.386719 1351.609375 L 278.386719 1688.847656 L 225.722656 1688.847656 L 225.722656 1610.613281 L 162.523438 1610.613281 L 162.523438 941.550781 L 0 941.550781 L 0 1875 L 3750 1875 L 3750 1446.238281 L 3499.289062 1446.238281 L 3499.289062 1612.199219 L 3426.929688 1612.199219 L 3426.929688 1532.082031 L 3367.339844 1532.082031 L 3367.339844 1482.480469 L 3292.859375 1482.480469 L 3292.859375 1556.878906 L 3201.351562 1556.878906 L 3201.351562 1274.546875 L 2975.761719 1274.546875 L 2975.761719 1478.667969 L 2895.96875 1478.667969 L 2895.96875 1407.125 L 2826.800781 1469.128906 L 2826.800781 1673.25 L 2777.851562 1673.25 L 2777.851562 1152.449219 L 2756.570312 1152.449219 L 2756.570312 1102.859375 L 2588.449219 1102.859375 L 2588.449219 969.328125 L 2516.089844 969.328125 L 2516.089844 793.808594 C 2416.070312 795.71875 2375.628906 877.753906 2375.628906 877.753906 L 2375.628906 1028.457031 L 2337.320312 1028.457031 L 2337.320312 1652.265625 L 2294.769531 1652.265625 L 2294.769531 1492.019531 L 2164.949219 1492.019531 L 2164.949219 1577.863281 L 2120.109375 1577.863281 L 2120.109375 1131.550781 L 2079.820312 1069.011719 L 2006.289062 1069.011719 L 1957.441406 1144.828125 L 1957.441406 1242.410156 L 1924.46875 1234.484375 L 1924.46875 965.503906 L 1901.890625 965.503906 L 1901.890625 613.121094 L 1859.949219 603.058594 L 1859.949219 359.480469 L 1835.871094 359.480469 L 1835.871094 131.171875 Z M 1807.289062 131.171875 " />
    </svg>
  )
  const detailedBackground = (

    <svg width="4800" height="4800" viewBox="0 0 4800 4800">
      <defs>
        <clipPath id="clip-0">

        </clipPath>
        <clipPath id="clip-1">
          <path clip-rule="evenodd" d="M 1159.148438 1895.050781 L 769.074219 1895.050781 L 769.074219 2109.75 L 1140.640625 2075.691406 Z M 1159.148438 1895.050781 " />
        </clipPath>
        <clipPath id="clip-2">
          <path clip-rule="nonzero" d="M 3718 1895 L 4047 1895 L 4047 2110 L 3718 2110 Z M 3718 1895 " />
        </clipPath>
        <clipPath id="clip-3">
          <path clip-rule="evenodd" d="M 3656.949219 2079.140625 L 4046.199219 2109.75 L 4046.199219 1895.050781 L 3666.128906 1929.109375 Z M 3656.949219 2079.140625 " />
        </clipPath>
        <clipPath id="clip-4">
          <path clip-rule="nonzero" d="M 2999.78125 894 L 3579.269531 894 L 3579.269531 901.738281 L 2999.78125 901.738281 Z M 2999.78125 894 " />
        </clipPath>
        <clipPath id="clip-5">
          <path clip-rule="nonzero" d="M 829 806 L 2496 806 L 2496 1977 L 829 1977 Z M 829 806 " />
        </clipPath>
        <clipPath id="clip-6">
          <path clip-rule="evenodd" d="M 3979.660156 1976.828125 L 2412.289062 706.941406 L 829.757812 1976.828125 Z M 3979.660156 1976.828125 " />
        </clipPath>
        <clipPath id="clip-7">
          <path clip-rule="nonzero" d="M 2334 806 L 3980 806 L 3980 1977 L 2334 1977 Z M 2334 806 " />
        </clipPath>
        <clipPath id="clip-8">
          <path clip-rule="evenodd" d="M 3979.660156 1976.828125 L 2412.289062 706.941406 L 829.757812 1976.828125 Z M 3979.660156 1976.828125 " />
        </clipPath>
        <clipPath id="clip-9">
          <path clip-rule="nonzero" d="M 1216 1631 L 3594 1631 L 3594 1647 L 1216 1647 Z M 1216 1631 " />
        </clipPath>
        <clipPath id="clip-10">
          <path clip-rule="evenodd" d="M 3979.660156 1976.828125 L 2412.289062 706.941406 L 829.757812 1976.828125 Z M 3979.660156 1976.828125 " />
        </clipPath>
        <clipPath id="clip-11">
          <path clip-rule="nonzero" d="M 1365 1517 L 3454 1517 L 3454 1533 L 1365 1533 Z M 1365 1517 " />
        </clipPath>
        <clipPath id="clip-12">
          <path clip-rule="evenodd" d="M 3979.660156 1976.828125 L 2412.289062 706.941406 L 829.757812 1976.828125 Z M 3979.660156 1976.828125 " />
        </clipPath>
        <clipPath id="clip-13">
          <path clip-rule="nonzero" d="M 1503 1399 L 3343 1399 L 3343 1415 L 1503 1415 Z M 1503 1399 " />
        </clipPath>
        <clipPath id="clip-14">
          <path clip-rule="evenodd" d="M 3979.660156 1976.828125 L 2412.289062 706.941406 L 829.757812 1976.828125 Z M 3979.660156 1976.828125 " />
        </clipPath>
        <clipPath id="clip-15">
          <path clip-rule="nonzero" d="M 1621 1285 L 3186 1285 L 3186 1300 L 1621 1300 Z M 1621 1285 " />
        </clipPath>
        <clipPath id="clip-16">
          <path clip-rule="evenodd" d="M 3979.660156 1976.828125 L 2412.289062 706.941406 L 829.757812 1976.828125 Z M 3979.660156 1976.828125 " />
        </clipPath>
        <clipPath id="clip-17">
          <path clip-rule="nonzero" d="M 1770 1170 L 3063 1170 L 3063 1185 L 1770 1185 Z M 1770 1170 " />
        </clipPath>
        <clipPath id="clip-18">
          <path clip-rule="evenodd" d="M 3979.660156 1976.828125 L 2412.289062 706.941406 L 829.757812 1976.828125 Z M 3979.660156 1976.828125 " />
        </clipPath>
        <clipPath id="clip-19">
          <path clip-rule="nonzero" d="M 1916 1062 L 2921 1062 L 2921 1077 L 1916 1077 Z M 1916 1062 " />
        </clipPath>
        <clipPath id="clip-20">
          <path clip-rule="evenodd" d="M 3979.660156 1976.828125 L 2412.289062 706.941406 L 829.757812 1976.828125 Z M 3979.660156 1976.828125 " />
        </clipPath>
        <clipPath id="clip-21">
          <path clip-rule="nonzero" d="M 1023 1853 L 3800 1853 L 3800 1869 L 1023 1869 Z M 1023 1853 " />
        </clipPath>
        <clipPath id="clip-22">
          <path clip-rule="evenodd" d="M 3979.660156 1976.828125 L 2412.289062 706.941406 L 829.757812 1976.828125 Z M 3979.660156 1976.828125 " />
        </clipPath>
        <clipPath id="clip-23">
          <path clip-rule="nonzero" d="M 1101 1742 L 3659 1742 L 3659 1758 L 1101 1758 Z M 1101 1742 " />
        </clipPath>
        <clipPath id="clip-24">
          <path clip-rule="evenodd" d="M 3979.660156 1976.828125 L 2412.289062 706.941406 L 829.757812 1976.828125 Z M 3979.660156 1976.828125 " />
        </clipPath>
        <clipPath id="clip-25">
          <path clip-rule="nonzero" d="M 2185 2906 L 2234 2906 L 2234 2955 L 2185 2955 Z M 2185 2906 " />
        </clipPath>
        <clipPath id="clip-26">
          <path clip-rule="evenodd" d="M 2209.398438 2896.039062 C 2228.128906 2896.039062 2243.339844 2911.371094 2243.339844 2930.25 C 2243.339844 2949.121094 2228.128906 2964.449219 2209.398438 2964.449219 C 2190.671875 2964.449219 2175.460938 2949.121094 2175.460938 2930.25 C 2175.460938 2911.371094 2190.671875 2896.039062 2209.398438 2896.039062 Z M 2209.398438 2896.039062 " />
        </clipPath>
      </defs>

      <path fill-rule="evenodd" fill="rgb(63.084412%, 63.084412%, 63.084412%)" fill-opacity="1" d="M 1159.148438 1895.050781 L 769.074219 1895.050781 L 769.074219 2109.75 L 1140.640625 2075.691406 L 1159.148438 1895.050781 " />
      <g clip-path="url(#clip-0)">
        <g clip-path="url(#clip-1)">
          <path fill-rule="evenodd" fill="rgb(66.796875%, 66.796875%, 66.796875%)" fill-opacity="1" d="M 1159.148438 1895.050781 L 830.363281 1924.269531 L 769.074219 2088.179688 L 806.730469 2180.441406 L 1000.851562 2026.871094 L 1159.148438 1895.050781 " />
        </g>
      </g>
      <path fill-rule="evenodd" fill="rgb(50.193787%, 50.193787%, 50.193787%)" fill-opacity="1" d="M 3656.949219 2079.140625 L 4046.199219 2109.75 L 4046.199219 1895.050781 L 3666.128906 1929.109375 L 3656.949219 2079.140625 " />
      <g clip-path="url(#clip-2)">
        <g clip-path="url(#clip-3)">
          <path fill-rule="evenodd" fill="rgb(62.693787%, 61.914062%, 61.914062%)" fill-opacity="1" d="M 3718.988281 2002.398438 L 4031.140625 2141.789062 L 4046.199219 2038.578125 L 3745.25 1864.871094 L 3718.988281 2002.398438 " />
        </g>
      </g>
      <path fill-rule="evenodd" fill="rgb(0%, 8.59375%, 24.705505%)" fill-opacity="1" d="M 3579.269531 814.808594 L 2999.78125 814.808594 L 2999.78125 901.738281 L 3579.269531 901.738281 L 3579.269531 814.808594 " />
      <path fill-rule="evenodd" fill="rgb(34.104919%, 42.405701%, 57.617188%)" fill-opacity="1" d="M 3569.691406 829.398438 L 3012.679688 829.398438 L 3012.679688 866.589844 L 3569.691406 866.589844 L 3569.691406 829.398438 " />
      <g clip-path="url(#clip-4)">
        <path fill-rule="evenodd" fill="rgb(95.701599%, 37.988281%, 34.910583%)" fill-opacity="1" d="M 3811.449219 1941.671875 L 1001.921875 1941.671875 L 2410.21875 894.679688 Z M 1012.050781 1938.308594 L 3801.359375 1938.308594 L 2410.210938 898.859375 L 1012.050781 1938.308594 " />
      </g>
      <path fill-rule="evenodd" fill="rgb(54.492188%, 59.179688%, 67.771912%)" fill-opacity="1" d="M 3564.359375 901.738281 L 3013.050781 901.738281 L 3013.050781 1586.109375 L 3564.359375 1586.109375 L 3564.359375 901.738281 " />
      <path fill-rule="evenodd" fill="rgb(35.301208%, 42.405701%, 56.054688%)" fill-opacity="1" d="M 3115.359375 1004.070312 L 3024.300781 1004.070312 L 3024.300781 901.738281 L 3115.359375 901.738281 L 3115.359375 1004.070312 " />
      <path fill-rule="evenodd" fill="rgb(35.301208%, 42.405701%, 56.054688%)" fill-opacity="1" d="M 3430.460938 1004.070312 L 3142.121094 1004.070312 L 3142.121094 901.738281 L 3430.460938 901.738281 L 3430.460938 1004.070312 " />
      <path fill-rule="evenodd" fill="rgb(35.301208%, 42.405701%, 56.054688%)" fill-opacity="1" d="M 3564.359375 1004.070312 L 3455.558594 1004.070312 L 3455.558594 901.738281 L 3564.359375 901.738281 L 3564.359375 1004.070312 " />
      <path fill-rule="evenodd" fill="rgb(35.301208%, 42.405701%, 56.054688%)" fill-opacity="1" d="M 3548.011719 1106.398438 L 3302.269531 1106.398438 L 3302.269531 1019.210938 L 3548.011719 1019.210938 L 3548.011719 1106.398438 " />
      <path fill-rule="evenodd" fill="rgb(35.301208%, 42.405701%, 56.054688%)" fill-opacity="1" d="M 3286.28125 1106.398438 L 3031.921875 1106.398438 L 3031.921875 1019.210938 L 3286.28125 1019.210938 L 3286.28125 1106.398438 " />
      <path fill-rule="evenodd" fill="rgb(35.301208%, 42.405701%, 56.054688%)" fill-opacity="1" d="M 3115.359375 1205.511719 L 3024.300781 1205.511719 L 3024.300781 1118.308594 L 3115.359375 1118.308594 L 3115.359375 1205.511719 " />
      <path fill-rule="evenodd" fill="rgb(35.301208%, 42.405701%, 56.054688%)" fill-opacity="1" d="M 3425.140625 1205.511719 L 3128.671875 1205.511719 L 3128.671875 1118.308594 L 3425.140625 1118.308594 L 3425.140625 1205.511719 " />
      <path fill-rule="evenodd" fill="rgb(35.301208%, 42.405701%, 56.054688%)" fill-opacity="1" d="M 3548.011719 1205.511719 L 3439.609375 1205.511719 L 3439.609375 1118.308594 L 3548.011719 1118.308594 L 3548.011719 1205.511719 " />
      <path fill-rule="evenodd" fill="rgb(35.301208%, 42.405701%, 56.054688%)" fill-opacity="1" d="M 3548.011719 1322.839844 L 3302.269531 1322.839844 L 3302.269531 1235.648438 L 3548.011719 1235.648438 L 3548.011719 1322.839844 " />
      <path fill-rule="evenodd" fill="rgb(35.301208%, 42.405701%, 56.054688%)" fill-opacity="1" d="M 3270.03125 1322.839844 L 3024.300781 1322.839844 L 3024.300781 1235.648438 L 3270.03125 1235.648438 L 3270.03125 1322.839844 " />
      <path fill-rule="evenodd" fill="rgb(35.301208%, 42.405701%, 56.054688%)" fill-opacity="1" d="M 3411.578125 1432.640625 L 3165.839844 1432.640625 L 3165.839844 1345.441406 L 3411.578125 1345.441406 L 3411.578125 1432.640625 " />
      <path fill-rule="evenodd" fill="rgb(35.301208%, 42.405701%, 56.054688%)" fill-opacity="1" d="M 3548.011719 1432.640625 L 3439.609375 1432.640625 L 3439.609375 1345.441406 L 3548.011719 1345.441406 L 3548.011719 1432.640625 " />
      <path fill-rule="evenodd" fill="rgb(35.301208%, 42.405701%, 56.054688%)" fill-opacity="1" d="M 3548.011719 1544.148438 L 3032.300781 1544.148438 L 3032.300781 1456.960938 L 3548.011719 1456.960938 L 3548.011719 1544.148438 " />
      <path fill-rule="evenodd" fill="rgb(95.3125%, 92.576599%, 89.451599%)" fill-opacity="1" d="M 3806.140625 1904.75 L 1003.269531 1904.75 L 1003.269531 3557.921875 L 3806.140625 3557.921875 L 3806.140625 1904.75 " />
      <path fill-rule="evenodd" fill="rgb(98.826599%, 94.53125%, 88.28125%)" fill-opacity="1" d="M 3806.140625 1904.75 L 1220.488281 1904.75 L 1220.488281 3557.921875 L 3806.140625 3557.921875 L 3806.140625 1904.75 " />
      <path fill-rule="evenodd" fill="rgb(13.696289%, 20.410156%, 32.493591%)" fill-opacity="1" d="M 3853.128906 3525.199219 L 956.28125 3525.199219 L 956.28125 3798.558594 L 3853.128906 3798.558594 L 3853.128906 3525.199219 " />
      <path fill-rule="evenodd" fill="rgb(9.008789%, 15.306091%, 27.098083%)" fill-opacity="1" d="M 3853.128906 3734.03125 C 3853.128906 3734.03125 3398.199219 3761.421875 3185.550781 3734.03125 C 3015.308594 3712.089844 2853.011719 3718 2670.679688 3734.03125 C 2300.539062 3766.558594 956.28125 3734.03125 956.28125 3734.03125 L 956.28125 3798.558594 L 3853.128906 3798.558594 L 3853.128906 3734.03125 " />
      <path fill-rule="evenodd" fill="rgb(14.892578%, 19.189453%, 31.809998%)" fill-opacity="1" d="M 3979.660156 1976.828125 L 2412.289062 706.941406 L 829.757812 1976.828125 L 3979.660156 1976.828125 " />
      <g clip-path="url(#clip-5)">
        <g clip-path="url(#clip-6)">
          <path fill-rule="evenodd" fill="rgb(6.298828%, 9.397888%, 17.993164%)" fill-opacity="1" d="M 2411.691406 806.539062 L 769.074219 2023.25 L 852.671875 2137.878906 L 2495.289062 921.171875 L 2411.691406 806.539062 " />
        </g>
      </g>
      <g clip-path="url(#clip-7)">
        <g clip-path="url(#clip-8)">
          <path fill-rule="evenodd" fill="rgb(6.298828%, 9.397888%, 17.993164%)" fill-opacity="1" d="M 2418.210938 806.539062 L 4060.820312 2023.25 L 3977.230469 2137.878906 L 2334.609375 921.171875 L 2418.210938 806.539062 " />
        </g>
      </g>
      <g clip-path="url(#clip-9)">
        <g clip-path="url(#clip-10)">
          <path fill-rule="evenodd" fill="rgb(6.298828%, 9.397888%, 17.993164%)" fill-opacity="1" d="M 3590.578125 1631.308594 L 3593.910156 1644.28125 L 1216.039062 1646.390625 L 1231.488281 1633.398438 L 3590.578125 1631.308594 " />
        </g>
      </g>
      <g clip-path="url(#clip-11)">
        <g clip-path="url(#clip-12)">
          <path fill-rule="evenodd" fill="rgb(6.298828%, 9.397888%, 17.993164%)" fill-opacity="1" d="M 3443.910156 1517.289062 L 3453.828125 1530.261719 L 1365.449219 1532.109375 L 1387.71875 1519.109375 L 3443.910156 1517.289062 " />
        </g>
      </g>
      <g clip-path="url(#clip-13)">
        <g clip-path="url(#clip-14)">
          <path fill-rule="evenodd" fill="rgb(6.298828%, 9.397888%, 17.993164%)" fill-opacity="1" d="M 3328.121094 1399.539062 L 3342.171875 1412.511719 L 1503.25 1414.140625 L 1509.058594 1401.160156 L 3328.121094 1399.539062 " />
        </g>
      </g>
      <g clip-path="url(#clip-15)">
        <g clip-path="url(#clip-16)">
          <path fill-rule="evenodd" fill="rgb(6.298828%, 9.397888%, 17.993164%)" fill-opacity="1" d="M 3170.230469 1285.25 L 3185.550781 1298.21875 L 1621.488281 1299.601562 L 1646.480469 1286.601562 L 3170.230469 1285.25 " />
        </g>
      </g>
      <g clip-path="url(#clip-17)">
        <g clip-path="url(#clip-18)">
          <path fill-rule="evenodd" fill="rgb(6.298828%, 9.397888%, 17.993164%)" fill-opacity="1" d="M 3042.378906 1170.660156 L 3062.5 1183.621094 L 1795.378906 1184.738281 L 1770.929688 1171.789062 L 3042.378906 1170.660156 " />
        </g>
      </g>
      <g clip-path="url(#clip-19)">
        <g clip-path="url(#clip-20)">
          <path fill-rule="evenodd" fill="rgb(6.298828%, 9.397888%, 17.993164%)" fill-opacity="1" d="M 2920.53125 1062.371094 L 2889.460938 1075.378906 L 1916.570312 1076.238281 L 1931.101562 1063.25 L 2920.53125 1062.371094 " />
        </g>
      </g>
      <g clip-path="url(#clip-21)">
        <g clip-path="url(#clip-22)">
          <path fill-rule="evenodd" fill="rgb(6.298828%, 9.397888%, 17.993164%)" fill-opacity="1" d="M 3799.910156 1866.148438 L 1023.101562 1868.441406 L 1035.75 1855.449219 L 3799.851562 1853.171875 C 3799.871094 1857.5 3799.890625 1861.828125 3799.910156 1866.148438 " />
        </g>
      </g>
      <g clip-path="url(#clip-23)">
        <g clip-path="url(#clip-24)">
          <path fill-rule="evenodd" fill="rgb(6.298828%, 9.397888%, 17.993164%)" fill-opacity="1" d="M 3658.460938 1755.238281 L 1101.320312 1757.511719 L 1117.121094 1744.519531 L 3658.398438 1742.269531 C 3658.421875 1746.589844 3658.441406 1750.921875 3658.460938 1755.238281 " />
        </g>
      </g>
      <path fill-rule="evenodd" fill="rgb(92.576599%, 92.576599%, 92.576599%)" fill-opacity="1" d="M 2340.78125 2214.960938 L 1445.300781 2214.960938 L 1445.300781 3557.921875 L 2340.78125 3557.921875 L 2340.78125 2214.960938 " />
      <path fill-rule="evenodd" fill="rgb(68.943787%, 68.943787%, 68.943787%)" fill-opacity="1" d="M 2267.839844 2265.609375 L 1505.109375 2265.609375 L 1505.109375 3557.921875 L 2267.839844 3557.921875 L 2267.839844 2265.609375 " />
      <path fill-rule="evenodd" fill="rgb(92.576599%, 92.576599%, 92.576599%)" fill-opacity="1" d="M 2254.621094 2286.761719 L 1518.691406 2286.761719 L 1518.691406 3557.921875 L 2254.621094 3557.921875 L 2254.621094 2286.761719 " />
      <path fill-rule="evenodd" fill="rgb(98.826599%, 98.826599%, 98.826599%)" fill-opacity="1" d="M 1819.890625 2355.828125 L 1601.511719 2355.828125 L 1601.511719 2886.441406 L 1819.890625 2886.441406 L 1819.890625 2355.828125 " />
      <path fill-rule="evenodd" fill="rgb(71.484375%, 71.484375%, 71.484375%)" fill-opacity="1" d="M 1819.890625 2355.828125 L 1601.511719 2355.828125 L 1601.511719 2886.441406 L 1612.089844 2886.441406 L 1611.128906 2366.511719 L 1819.890625 2366.480469 L 1819.890625 2355.828125 " />
      <path fill-rule="evenodd" fill="rgb(100%, 100%, 100%)" fill-opacity="1" d="M 1612.03125 2876 L 1611.761719 2886.441406 L 1819.890625 2886.441406 L 1819.890625 2355.828125 L 1809.328125 2366.5 L 1810.269531 2875.761719 L 1612.03125 2876 " />
      <path fill-rule="evenodd" fill="rgb(86.326599%, 86.326599%, 86.326599%)" fill-opacity="1" d="M 1612.238281 2875.878906 L 1611.761719 2886.441406 L 1819.890625 2886.441406 L 1810.269531 2875.761719 L 1612.238281 2875.878906 " />
      <path fill-rule="evenodd" fill="rgb(84.375%, 84.375%, 84.375%)" fill-opacity="1" d="M 1800.539062 2378.871094 L 1620.851562 2378.871094 L 1620.851562 2861.351562 L 1629.558594 2861.351562 L 1628.769531 2388.578125 L 1800.539062 2388.550781 L 1800.539062 2378.871094 " />
      <path fill-rule="evenodd" fill="rgb(86.326599%, 86.326599%, 86.326599%)" fill-opacity="1" d="M 1629.511719 2851.859375 L 1629.289062 2861.351562 L 1800.539062 2861.351562 L 1800.539062 2378.871094 L 1792.050781 2378.871094 L 1792.628906 2851.640625 L 1629.511719 2851.859375 " />
      <path fill-rule="evenodd" fill="rgb(86.326599%, 86.326599%, 86.326599%)" fill-opacity="1" d="M 1629.421875 2851.800781 L 1629.289062 2861.351562 L 1800.539062 2861.351562 L 1800.539062 2851.988281 L 1629.421875 2851.800781 " />
      <path fill-rule="evenodd" fill="rgb(98.826599%, 98.826599%, 98.826599%)" fill-opacity="1" d="M 2156.898438 2355.828125 L 1938.519531 2355.828125 L 1938.519531 2886.441406 L 2156.898438 2886.441406 L 2156.898438 2355.828125 " />
      <path fill-rule="evenodd" fill="rgb(71.484375%, 71.484375%, 71.484375%)" fill-opacity="1" d="M 2156.898438 2355.828125 L 1938.519531 2355.828125 L 1938.519531 2886.441406 L 1949.101562 2886.441406 L 1948.140625 2366.511719 L 2156.898438 2366.480469 L 2156.898438 2355.828125 " />
      <path fill-rule="evenodd" fill="rgb(100%, 100%, 100%)" fill-opacity="1" d="M 1949.039062 2876 L 1948.769531 2886.441406 L 2156.898438 2886.441406 L 2156.898438 2355.828125 L 2146.339844 2366.5 L 2147.28125 2875.761719 L 1949.039062 2876 " />
      <path fill-rule="evenodd" fill="rgb(86.326599%, 86.326599%, 86.326599%)" fill-opacity="1" d="M 1949.25 2875.878906 L 1948.769531 2886.441406 L 2156.898438 2886.441406 L 2147.28125 2875.761719 L 1949.25 2875.878906 " />
      <path fill-rule="evenodd" fill="rgb(84.375%, 84.375%, 84.375%)" fill-opacity="1" d="M 2137.550781 2378.871094 L 1957.859375 2378.871094 L 1957.859375 2861.351562 L 1966.570312 2861.351562 L 1965.78125 2388.578125 L 2137.550781 2388.550781 L 2137.550781 2378.871094 " />
      <path fill-rule="evenodd" fill="rgb(86.326599%, 86.326599%, 86.326599%)" fill-opacity="1" d="M 1966.519531 2851.859375 L 1966.300781 2861.351562 L 2137.550781 2861.351562 L 2137.550781 2378.871094 L 2129.058594 2378.871094 L 2129.640625 2851.640625 L 1966.519531 2851.859375 " />
      <path fill-rule="evenodd" fill="rgb(86.326599%, 86.326599%, 86.326599%)" fill-opacity="1" d="M 1966.429688 2851.800781 L 1966.300781 2861.351562 L 2137.550781 2861.351562 L 2137.550781 2851.988281 L 1966.429688 2851.800781 " />
      <path fill-rule="evenodd" fill="rgb(98.826599%, 98.826599%, 98.826599%)" fill-opacity="1" d="M 1819.890625 2984.398438 L 1601.511719 2984.398438 L 1601.511719 3515 L 1819.890625 3515 L 1819.890625 2984.398438 " />
      <path fill-rule="evenodd" fill="rgb(71.484375%, 71.484375%, 71.484375%)" fill-opacity="1" d="M 1819.890625 2984.398438 L 1601.511719 2984.398438 L 1601.511719 3515 L 1612.089844 3515 L 1611.128906 2995.078125 L 1819.890625 2995.039062 L 1819.890625 2984.398438 " />
      <path fill-rule="evenodd" fill="rgb(100%, 100%, 100%)" fill-opacity="1" d="M 1612.03125 3504.558594 L 1611.761719 3515 L 1819.890625 3515 L 1819.890625 2984.398438 L 1809.328125 2995.070312 L 1810.269531 3504.320312 L 1612.03125 3504.558594 " />
      <path fill-rule="evenodd" fill="rgb(86.326599%, 86.326599%, 86.326599%)" fill-opacity="1" d="M 1612.238281 3504.441406 L 1611.761719 3515 L 1819.890625 3515 L 1810.269531 3504.320312 L 1612.238281 3504.441406 " />
      <path fill-rule="evenodd" fill="rgb(84.375%, 84.375%, 84.375%)" fill-opacity="1" d="M 1800.539062 3007.429688 L 1620.851562 3007.429688 L 1620.851562 3489.921875 L 1629.558594 3489.921875 L 1628.769531 3017.148438 L 1800.539062 3017.109375 L 1800.539062 3007.429688 " />
      <path fill-rule="evenodd" fill="rgb(86.326599%, 86.326599%, 86.326599%)" fill-opacity="1" d="M 1629.511719 3480.421875 L 1629.289062 3489.921875 L 1800.539062 3489.921875 L 1800.539062 3007.429688 L 1792.050781 3007.429688 L 1792.628906 3480.199219 L 1629.511719 3480.421875 " />
      <path fill-rule="evenodd" fill="rgb(86.326599%, 86.326599%, 86.326599%)" fill-opacity="1" d="M 1629.421875 3480.371094 L 1629.289062 3489.921875 L 1800.539062 3489.921875 L 1800.539062 3480.550781 L 1629.421875 3480.371094 " />
      <path fill-rule="evenodd" fill="rgb(98.826599%, 98.826599%, 98.826599%)" fill-opacity="1" d="M 2156.898438 2984.398438 L 1938.519531 2984.398438 L 1938.519531 3515 L 2156.898438 3515 L 2156.898438 2984.398438 " />
      <path fill-rule="evenodd" fill="rgb(71.484375%, 71.484375%, 71.484375%)" fill-opacity="1" d="M 2156.898438 2984.398438 L 1938.519531 2984.398438 L 1938.519531 3515 L 1949.101562 3515 L 1948.140625 2995.078125 L 2156.898438 2995.039062 L 2156.898438 2984.398438 " />
      <path fill-rule="evenodd" fill="rgb(100%, 100%, 100%)" fill-opacity="1" d="M 1949.039062 3504.558594 L 1948.769531 3515 L 2156.898438 3515 L 2156.898438 2984.398438 L 2146.339844 2995.070312 L 2147.28125 3504.320312 L 1949.039062 3504.558594 " />
      <path fill-rule="evenodd" fill="rgb(86.326599%, 86.326599%, 86.326599%)" fill-opacity="1" d="M 1949.25 3504.441406 L 1948.769531 3515 L 2156.898438 3515 L 2147.28125 3504.320312 L 1949.25 3504.441406 " />
      <path fill-rule="evenodd" fill="rgb(84.375%, 84.375%, 84.375%)" fill-opacity="1" d="M 2137.550781 3007.429688 L 1957.859375 3007.429688 L 1957.859375 3489.921875 L 1966.570312 3489.921875 L 1965.78125 3017.148438 L 2137.550781 3017.109375 L 2137.550781 3007.429688 " />
      <path fill-rule="evenodd" fill="rgb(86.326599%, 86.326599%, 86.326599%)" fill-opacity="1" d="M 1966.519531 3480.421875 L 1966.300781 3489.921875 L 2137.550781 3489.921875 L 2137.550781 3007.429688 L 2129.058594 3007.429688 L 2129.640625 3480.199219 L 1966.519531 3480.421875 " />
      <path fill-rule="evenodd" fill="rgb(86.326599%, 86.326599%, 86.326599%)" fill-opacity="1" d="M 1966.429688 3480.371094 L 1966.300781 3489.921875 L 2137.550781 3489.921875 L 2137.550781 3480.550781 L 1966.429688 3480.371094 " />
      <path fill-rule="evenodd" fill="rgb(89.451599%, 89.451599%, 89.451599%)" fill-opacity="1" d="M 2413.570312 743.46875 L 2413.660156 743.398438 L 4120.519531 2008.039062 L 4043.808594 2113.210938 L 2410 906.609375 L 761.511719 2129.589844 L 684.804688 2024.429688 L 2413.488281 743.398438 L 2413.570312 743.46875 " />
      <path fill-rule="evenodd" fill="rgb(0%, 8.59375%, 24.705505%)" fill-opacity="1" d="M 2412.449219 684.988281 L 2412.53125 684.929688 L 4147.359375 1970.511719 L 4117.050781 2012.089844 L 2413.738281 747.378906 L 687.445312 2027.640625 L 652.636719 1980.261719 L 2412.359375 684.929688 L 2412.449219 684.988281 " />
      <path fill-rule="evenodd" fill="rgb(100%, 100%, 100%)" fill-opacity="1" d="M 2652.550781 1271.390625 L 2156.871094 1271.390625 L 2156.871094 1798.921875 L 2652.550781 1798.921875 L 2652.550781 1271.390625 " />
      <path fill-rule="evenodd" fill="rgb(89.451599%, 89.451599%, 89.451599%)" fill-opacity="1" d="M 2652.550781 1271.390625 L 2156.871094 1798.921875 L 2652.550781 1798.921875 L 2652.550781 1271.390625 " />
      <path fill-rule="evenodd" fill="rgb(28.588867%, 37.597656%, 54.492188%)" fill-opacity="1" d="M 2396.230469 1306.738281 L 2192.488281 1306.738281 L 2192.488281 1526 L 2396.230469 1526 L 2396.230469 1306.738281 " />
      <path fill-rule="evenodd" fill="rgb(28.588867%, 37.597656%, 54.492188%)" fill-opacity="1" d="M 2619.738281 1306.738281 L 2416 1306.738281 L 2416 1526 L 2619.738281 1526 L 2619.738281 1306.738281 " />
      <path fill-rule="evenodd" fill="rgb(21.99707%, 30.589294%, 46.702576%)" fill-opacity="1" d="M 2619.738281 1306.738281 L 2416 1526 L 2619.738281 1526 L 2619.738281 1306.738281 " />
      <path fill-rule="evenodd" fill="rgb(21.99707%, 30.589294%, 46.702576%)" fill-opacity="1" d="M 2619.738281 1546.828125 L 2416 1546.828125 L 2416 1766.078125 L 2619.738281 1766.078125 L 2619.738281 1546.828125 " />
      <path fill-rule="evenodd" fill="rgb(28.588867%, 37.597656%, 54.492188%)" fill-opacity="1" d="M 2396.230469 1546.828125 L 2192.488281 1546.828125 L 2192.488281 1766.078125 L 2396.230469 1766.078125 L 2396.230469 1546.828125 " />
      <path fill-rule="evenodd" fill="rgb(21.99707%, 30.589294%, 46.702576%)" fill-opacity="1" d="M 2396.230469 1546.828125 L 2192.488281 1766.078125 L 2396.230469 1766.078125 L 2396.230469 1546.828125 " />
      <path fill-rule="evenodd" fill="rgb(100%, 100%, 100%)" fill-opacity="1" d="M 3115.421875 2219.179688 L 2619.738281 2219.179688 L 2619.738281 2746.710938 L 3115.421875 2746.710938 L 3115.421875 2219.179688 " />
      <path fill-rule="evenodd" fill="rgb(89.451599%, 89.451599%, 89.451599%)" fill-opacity="1" d="M 3115.421875 2219.179688 L 2619.738281 2746.710938 L 3115.421875 2746.710938 L 3115.421875 2219.179688 " />
      <path fill-rule="evenodd" fill="rgb(28.588867%, 37.597656%, 54.492188%)" fill-opacity="1" d="M 2859.101562 2254.519531 L 2655.359375 2254.519531 L 2655.359375 2473.78125 L 2859.101562 2473.78125 L 2859.101562 2254.519531 " />
      <path fill-rule="evenodd" fill="rgb(28.588867%, 37.597656%, 54.492188%)" fill-opacity="1" d="M 3082.601562 2254.519531 L 2878.871094 2254.519531 L 2878.871094 2473.78125 L 3082.601562 2473.78125 L 3082.601562 2254.519531 " />
      <path fill-rule="evenodd" fill="rgb(21.99707%, 30.589294%, 46.702576%)" fill-opacity="1" d="M 3082.601562 2254.519531 L 2878.871094 2473.78125 L 3082.601562 2473.78125 L 3082.601562 2254.519531 " />
      <path fill-rule="evenodd" fill="rgb(21.99707%, 30.589294%, 46.702576%)" fill-opacity="1" d="M 3082.601562 2494.609375 L 2878.871094 2494.609375 L 2878.871094 2713.859375 L 3082.601562 2713.859375 L 3082.601562 2494.609375 " />
      <path fill-rule="evenodd" fill="rgb(28.588867%, 37.597656%, 54.492188%)" fill-opacity="1" d="M 2859.101562 2494.609375 L 2655.359375 2494.609375 L 2655.359375 2713.859375 L 2859.101562 2713.859375 L 2859.101562 2494.609375 " />
      <path fill-rule="evenodd" fill="rgb(21.99707%, 30.589294%, 46.702576%)" fill-opacity="1" d="M 2859.101562 2494.609375 L 2655.359375 2713.859375 L 2859.101562 2713.859375 L 2859.101562 2494.609375 " />
      <path fill-rule="evenodd" fill="rgb(100%, 100%, 100%)" fill-opacity="1" d="M 3652.851562 2219.179688 L 3157.171875 2219.179688 L 3157.171875 2746.710938 L 3652.851562 2746.710938 L 3652.851562 2219.179688 " />
      <path fill-rule="evenodd" fill="rgb(89.451599%, 89.451599%, 89.451599%)" fill-opacity="1" d="M 3652.851562 2219.179688 L 3157.171875 2746.710938 L 3652.851562 2746.710938 L 3652.851562 2219.179688 " />
      <path fill-rule="evenodd" fill="rgb(28.588867%, 37.597656%, 54.492188%)" fill-opacity="1" d="M 3396.53125 2254.519531 L 3192.789062 2254.519531 L 3192.789062 2473.78125 L 3396.53125 2473.78125 L 3396.53125 2254.519531 " />
      <path fill-rule="evenodd" fill="rgb(28.588867%, 37.597656%, 54.492188%)" fill-opacity="1" d="M 3620.03125 2254.519531 L 3416.300781 2254.519531 L 3416.300781 2473.78125 L 3620.03125 2473.78125 L 3620.03125 2254.519531 " />
      <path fill-rule="evenodd" fill="rgb(21.99707%, 30.589294%, 46.702576%)" fill-opacity="1" d="M 3620.03125 2254.519531 L 3416.300781 2473.78125 L 3620.03125 2473.78125 L 3620.03125 2254.519531 " />
      <path fill-rule="evenodd" fill="rgb(21.99707%, 30.589294%, 46.702576%)" fill-opacity="1" d="M 3620.03125 2494.609375 L 3416.300781 2494.609375 L 3416.300781 2713.859375 L 3620.03125 2713.859375 L 3620.03125 2494.609375 " />
      <path fill-rule="evenodd" fill="rgb(28.588867%, 37.597656%, 54.492188%)" fill-opacity="1" d="M 3396.53125 2494.609375 L 3192.789062 2494.609375 L 3192.789062 2713.859375 L 3396.53125 2713.859375 L 3396.53125 2494.609375 " />
      <path fill-rule="evenodd" fill="rgb(21.99707%, 30.589294%, 46.702576%)" fill-opacity="1" d="M 3396.53125 2494.609375 L 3192.789062 2713.859375 L 3396.53125 2713.859375 L 3396.53125 2494.609375 " />
      <path fill-rule="evenodd" fill="rgb(82.421875%, 82.421875%, 82.421875%)" fill-opacity="1" d="M 2353.929688 3557.921875 L 1427.25 3557.921875 L 1427.25 3646.789062 L 2353.929688 3646.789062 L 2353.929688 3557.921875 " />
      <path fill-rule="evenodd" fill="rgb(71.09375%, 71.09375%, 71.09375%)" fill-opacity="1" d="M 2353.929688 3624.609375 L 1427.25 3624.609375 L 1427.25 3646.789062 L 2353.929688 3646.789062 L 2353.929688 3624.609375 " />
      <path fill-rule="evenodd" fill="rgb(82.421875%, 82.421875%, 82.421875%)" fill-opacity="1" d="M 2390.648438 3646.789062 L 1394.648438 3646.789062 L 1394.648438 3735.648438 L 2390.648438 3735.648438 L 2390.648438 3646.789062 " />
      <path fill-rule="evenodd" fill="rgb(71.09375%, 71.09375%, 71.09375%)" fill-opacity="1" d="M 2390.648438 3711.871094 L 1394.648438 3711.871094 L 1394.648438 3735.648438 L 2390.648438 3735.648438 L 2390.648438 3711.871094 " />
      <path fill-rule="evenodd" fill="rgb(43.896484%, 43.896484%, 43.896484%)" fill-opacity="1" d="M 2213.210938 2896.039062 C 2231.941406 2896.039062 2247.148438 2911.371094 2247.148438 2930.25 C 2247.148438 2949.121094 2231.941406 2964.449219 2213.210938 2964.449219 C 2194.480469 2964.449219 2179.269531 2949.121094 2179.269531 2930.25 C 2179.269531 2911.371094 2194.480469 2896.039062 2213.210938 2896.039062 " />
      <path fill-rule="evenodd" fill="rgb(82.421875%, 82.421875%, 82.421875%)" fill-opacity="1" d="M 2432.441406 3735.648438 L 1352.859375 3735.648438 L 1352.859375 3824.515625 L 2432.441406 3824.515625 L 2432.441406 3735.648438 " />
      <path fill-rule="evenodd" fill="rgb(71.09375%, 71.09375%, 71.09375%)" fill-opacity="1" d="M 2432.441406 3800.738281 L 1352.859375 3800.738281 L 1352.859375 3824.515625 L 2432.441406 3824.515625 L 2432.441406 3800.738281 " />
      <path fill-rule="evenodd" fill="rgb(83.984375%, 81.25%, 77.34375%)" fill-opacity="1" d="M 2209.398438 2896.039062 C 2228.128906 2896.039062 2243.339844 2911.371094 2243.339844 2930.25 C 2243.339844 2949.121094 2228.128906 2964.449219 2209.398438 2964.449219 C 2190.671875 2964.449219 2175.460938 2949.121094 2175.460938 2930.25 C 2175.460938 2911.371094 2190.671875 2896.039062 2209.398438 2896.039062 " />
      <g clip-path="url(#clip-25)">
        <g clip-path="url(#clip-26)">
          <path fill-rule="evenodd" fill="rgb(68.554688%, 66.209412%, 62.693787%)" fill-opacity="1" d="M 2209.398438 2906 C 2222.679688 2906 2233.460938 2916.859375 2233.460938 2930.25 C 2233.460938 2943.628906 2222.679688 2954.5 2209.398438 2954.5 C 2196.121094 2954.5 2185.339844 2943.628906 2185.339844 2930.25 C 2185.339844 2916.859375 2196.121094 2906 2209.398438 2906 " />
        </g>
      </g>
    </svg>
  )




  const [downloadSize, setDownloadSize] = useState('');

  const [svgColor, setSvgColor] = useState(initialColor);
  const [layerVisibility, setLayerVisibility] = useState({
    layer1: true,
    layer2: true,
    layer3: true,
  });
  const svgStyles = svgStyleList(svgColor);

  const [availableLayers, setAvailableLayers] = useState([]);
  useEffect(() => {
    if (svgRef.current) {
      const nodes = svgRef.current.querySelectorAll('[data-layer]');
      const layers = new Set();

      nodes.forEach(el => {
        const layer = el.getAttribute('data-layer');
        if (layer) layers.add(layer);
      });

      setAvailableLayers([...layers]); // convert Set to Array
    }
  }, [svgColor]); // Or [svgItem] if you're switching SVGs

  useEffect(() => {
    const newState = {};
    availableLayers.forEach(layer => {
      newState[layer] = true;
    });
    setLayerVisibility(newState);
  }, [availableLayers]);



  const svgRef = useRef();

  useEffect(() => {
    setSvgColor(initialColor);
  }, [initialColor]);

  const toggleLayer = (layerKey) => {
    const el = svgRef.current?.querySelector(`[data-layer="${layerKey}"]`);
    if (el) {
      el.style.display = el.style.display === 'none' ? 'inline' : 'none';
    }
  };

  const svgItem = svgList(svgColor).find((item) => item.id === parseInt(id));




  const handleDownloadPng = async () => {
    const node = svgRef.current;
    if (!node) return;

    const textElement = node.querySelector('h2');
    const originalDisplay = textElement?.style.display;
    if (textElement) textElement.style.display = 'none';

    const canvas = await html2canvas(node, {
      backgroundColor: null,
      useCORS: true,
      allowTaint: true,
      scale: 2,
    });

    if (textElement) textElement.style.display = originalDisplay || 'block';

    let width = canvas.width;
    let height = canvas.height;

    // Resize based on dropdown
    if (downloadSize) {
      const size = parseInt(downloadSize);
      const ratio = canvas.width / canvas.height;
      width = size;
      height = size / ratio;
    }

    const resizedCanvas = document.createElement('canvas');
    resizedCanvas.width = width;
    resizedCanvas.height = height;

    const ctx = resizedCanvas.getContext('2d');
    ctx.drawImage(canvas, 0, 0, width, height);

    const link = document.createElement('a');
    link.download = `image-${downloadSize || 'original'}.png`;
    link.href = resizedCanvas.toDataURL('image/png');
    link.click();
  };


  const handleDownloadSvg = () => {
    const svgElement = svgRef.current.querySelector('svg');
    if (!svgElement) return;

    const clone = svgElement.cloneNode(true);

    if (downloadSize) {
      clone.setAttribute('width', `${downloadSize}px`);
      clone.setAttribute('height', `${downloadSize}px`);
    }

    const svgData = new XMLSerializer().serializeToString(clone);
    const blob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });
    const url = URL.createObjectURL(blob);

    const link = document.createElement('a');
    link.href = url;
    link.download = `image-${downloadSize || 'original'}.svg`;
    link.click();

    URL.revokeObjectURL(url);
  };

  return (
    <main className=" my-5">
      <div className="container">
        <div className="row">

          {/* left toolbar */}
          <div className="col-lg-8 ">
            {/* <div className="product-page-svg canvas-editor" ref={svgRef}>
              {svgItem?.getSvg()}
              <h2>{svgItem?.name}</h2>
            </div> */}
            <div className='canvas-editor'>
              <div
                className="product-page-svg w-100 text-center"
                ref={svgRef}
                style={{
                  position: 'relative',
                  display: 'inline-block',
                  margin: '0 auto',
                  textAlign: 'center',
                }}
              >
                {/* Background Layer */}
                {backgroundType === 'simple' && (
                  <div
                    style={{
                      position: 'absolute',
                      top: 0,
                      left: 0,
                      pointerEvents: 'none',
                      zIndex: 0,
                      width: '100%',
                      height: '100%',
                    }}
                  >
                    {simpleBackground}
                  </div>
                )}
                {backgroundType === 'detail' && (
                  <div
                    style={{
                      position: 'absolute',
                      top: 0,
                      left: 0,
                      pointerEvents: 'none',
                      zIndex: 0,
                      width: '100%',
                      height: '100%',
                    }}
                  >
                    {detailedBackground}
                  </div>
                )}

                {/* Foreground SVG */}
                <div style={{ position: 'relative', zIndex: 1 }}>
                  {svgItem?.getSvg()}
                  <h2>{svgItem?.name}</h2>
                </div>
              </div>



              <div className='row gap-4 justify-content-center'>
                <h3 className='my-3'>Style</h3>

                {svgStyles.slice(0, 5).map((styleItem) => (
                  <>
                    <div className="col-lg-2 col-md-3 col-sm-4 mb-3 text-center" key={styleItem.id}>
                      <div className='card-styleSection p-2 text-center'>
                        {styleItem.getSvg()}
                      </div>
                      <p className='mt-2'>{styleItem.name}</p>
                    </div>
                  </>
                ))}
              </div>



            </div>



          </div>
          {/* right toolbar */}
          <div className="col-lg-4">
            <div className="right-toolbar">
              <h4>Color</h4>
              <input
                type="color"
                value={svgColor}
                onChange={(e) => setSvgColor(e.target.value)}
                className="form-control form-control-color w-auto mx-auto my-3 color-input"
              />


              <h4>Layers</h4>
              <div>
                {availableLayers.map((layer) => (
                  <button
                    key={layer}
                    onClick={() => toggleLayer(layer)}
                    style={{
                      width: `70%`,
                      padding: '6px 12px',
                      borderRadius: '6px',
                      border: '1px solid #ccc',
                      backgroundColor: layerVisibility[layer] ? '#4CAF50' : '#f0f0f0',
                      color: layerVisibility[layer] ? 'white' : 'black',
                      cursor: 'pointer',
                    }}
                  >
                    {layer}
                  </button>
                ))}
              </div>
              <h4>Background</h4>
              <div>
                {['hidden', 'simple', 'detail'].map((type) => (
                  <div className="form-check" key={type}>
                    <input
                      className="form-check-input"
                      type="radio"
                      name="backgroundOptions"
                      id={`radio-${type}`}
                      value={type}
                      checked={backgroundType === type}
                      onChange={(e) => setBackgroundType(e.target.value)}
                    />
                    <label className="form-check-label" htmlFor={`radio-${type}`}>
                      {type.charAt(0).toUpperCase() + type.slice(1)}
                    </label>
                  </div>
                ))}
              </div>

              <div className="download">

                <select
                  name="size"
                  id="size"
                  className='select-size'
                  value={downloadSize}
                  onChange={(e) => setDownloadSize(e.target.value)}
                >
                  <option value="">Select size</option>
                  <option value="16">16px</option>
                  <option value="24">24px</option>
                  <option value="32">32px</option>
                  <option value="64">64px</option>
                  <option value="128">128px</option>
                  <option value="256">256px</option>
                  <option value="512">512px</option>
                </select>
                <div>
                  <button className="btn btn-primary me-2" onClick={handleDownloadPng}>Download PNG</button>
                  <button className="btn btn-primary" onClick={handleDownloadSvg}>Download SVG</button>
                </div>
              </div>


              <div class="mt-5">
                <h6>License</h6>
                <p>Free for personal and commercal. use with attribution. <a class="learsmore" href="#">Lears more</a>
                </p>
              </div>
            </div>

          </div>
        </div>
      </div>

    </main >
  );
}
